<!DOCTYPE html><html lang="Chinese"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Linux根文件系统"><meta name="keywords" content=""><meta name="author" content="FrankZhang"><meta name="copyright" content="FrankZhang"><title>Linux根文件系统 | Frank’s blogs</title><link rel="shortcut icon" href="/Flogo.png"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">Linux根文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.1.</span> <span class="toc-text">什么是文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bin"><span class="toc-number">1.1.1.</span> <span class="toc-text">&#x2F;bin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dev-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.2.</span> <span class="toc-text">&#x2F;dev 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.3.</span> <span class="toc-text">&#x2F;etc 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lib-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.4.</span> <span class="toc-text">&#x2F;lib 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mnt-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.5.</span> <span class="toc-text">&#x2F;mnt 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#proc-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.6.</span> <span class="toc-text">&#x2F;proc 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#usr-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.7.</span> <span class="toc-text">&#x2F;usr 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.8.</span> <span class="toc-text">&#x2F;var 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sbin-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.9.</span> <span class="toc-text">&#x2F;sbin 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sys-%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.10.</span> <span class="toc-text">&#x2F;sys 目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#opt%E7%9B%AE%E5%BD%95"><span class="toc-number">1.1.11.</span> <span class="toc-text">&#x2F;opt目录</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">FrankZhang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">84</span></a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Frank’s blogs</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">Linux根文件系统</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-02-27</time></div><div class="article-container" id="post-content"><h1 id="Linux根文件系统"><a href="#Linux根文件系统" class="headerlink" title="Linux根文件系统"></a>Linux根文件系统</h1><h2 id="什么是文件系统"><a href="#什么是文件系统" class="headerlink" title="什么是文件系统"></a>什么是文件系统</h2><ul>
<li><p>根文件系统一般也叫做 rootfs，那么什么叫根文件系统？看到“文件系统”这四个字，很多 人，包括我第一反应就是 FATFS、FAT、EXT4、YAFFS 和 NTFS 等这样的文件系统。在这里， 根文件系统<u>并不是 FATFS 这样的文件系统代码</u>，EXT4 这样的<u>文件系统代码属于 Linux 内核的 一部分</u>。Linux 中的根文件系统更像是<strong>一个文件夹或者叫做目录</strong>(在我看来就是一个文件夹，只 不过是特殊的文件夹)，在这个目录里面<strong>会有很多的子目录。根目录下和子目录中会有很多的文件</strong>，这些文件是 Linux 运行所必须的，比如库、常用的软件和命令、设备文件、配置文件等等。</p>
</li>
<li><p>根文件系统首先是内核启动时所 <strong>mount(挂载)的第一个文件系统</strong>，内核代码映像文件保存在 根文件系统中，而系统引导启动程序会在根文件系统挂载之后从中把一些基本的初始化脚本和 服务等加载到内存中去运行。</p>
</li>
<li><p>嵌入式 Linux 并没有将内 核代码镜像保存在根文件系统中，而是保存到了其他地方。比如 <u>NAND Flash 的指定存储地址、 EMMC 专用分区中</u>。根文件系统是 Linux 内核启动以后挂载(mount)的第一个文件系统，然后从 根文件系统中读取初始化脚本，比如 rcS，inittab 等。根文件系统和 Linux 内核是分开的，单独 的 Linux 内核是没法正常工作的，必须要搭配根文件系统。如果不提供根文件系统，Linux 内核 在启动的时候就会提示内核崩溃(Kernel panic)的提示</p>
</li>
<li><p>根文件系统是其他文件系统的根，没有这个“根”，其他的文件系统或者软件就别想工作。比如我们<strong>常用的 ls、mv、ifconfig 等命令 其实就是一个个小软件</strong>，只是这些<u>软件没有图形界面</u>，而且需要输入命令来运行。这些<strong>小软件就保存在根文件系统中</strong></p>
</li>
<li><p>以 Ubuntu 为例，根文件系统的目录名字为‘/’，没看错就是一个斜杠，所以输入如下命令就可以进入根目录中</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd / //进入根目录</span><br></pre></td></tr></table></figure>

<h3 id="bin"><a href="#bin" class="headerlink" title="/bin"></a>/bin</h3><ul>
<li>bin 文件就是<strong>可执行文件</strong>。所以此目录下存放着系统 需要的可执行文件，一般都是一些命令，比如 ls、mv 等命令。此目录下的命令所有的客户都可 以使用。</li>
</ul>
<h3 id="dev-目录"><a href="#dev-目录" class="headerlink" title="/dev 目录"></a>/dev 目录</h3><ul>
<li>dev 是 device 的缩写，所以此目录下的文件都是和设备有关的，此目录下的文件都是<strong>设备文件</strong>。在 <strong>Linux 下一切皆文件</strong>，即使是<strong>硬件设备，也是以文件的形式存在的</strong>，比如 /dev/ttymxc0(I.MX6ULL 根目录会有此文件)就表示 I.MX6ULL 的串口 0，我们**要想通过串口 0 发送或者接收数据就要操作文件/dev/ttymxc0，通过对文件/dev/ttymxc0 的<u>读写操作</u>来实现串口 0 的<u>数据收发</u>**。</li>
</ul>
<h3 id="etc-目录"><a href="#etc-目录" class="headerlink" title="/etc 目录"></a>/etc 目录</h3><ul>
<li>此目录下存放着<strong>各种配置文件</strong>，大家可以进入 Ubuntu 的 etc 目录看一下，里面的配置文件 非常多！但是在嵌入式 Linux 下此目录会很简洁。</li>
</ul>
<h3 id="lib-目录"><a href="#lib-目录" class="headerlink" title="/lib 目录"></a>/lib 目录</h3><ul>
<li>lib 是 library 的简称，也就是库的意思，因此此目录下<strong>存放着 Linux 所必须的库文件</strong>。这些 库文件是<strong>共享库</strong>，命令和用户编写的应用程序要使用这些库文件。</li>
</ul>
<h3 id="mnt-目录"><a href="#mnt-目录" class="headerlink" title="/mnt 目录"></a>/mnt 目录</h3><ul>
<li>临时挂载目录，一般是空目录，可以在此目录下创建空的子目录，比如/mnt/sd、/mnt/usb， 这样就可以将 SD 卡或者 U 盘挂载到/mnt/sd 或者/mnt/usb 目录中。</li>
</ul>
<h3 id="proc-目录"><a href="#proc-目录" class="headerlink" title="/proc 目录"></a>/proc 目录</h3><ul>
<li>此目录一般是空的，当 Linux 系统启动以后会将此目录作为 proc 文件系统的挂载点，proc 是个<strong>虚拟文件系统</strong>，没有实际的存储设备。proc 里面的文件都是临时存在的，一般用来存储系 统运行信息文件。</li>
</ul>
<h3 id="usr-目录"><a href="#usr-目录" class="headerlink" title="/usr 目录"></a>/usr 目录</h3><ul>
<li>usr 不是 user 的缩写，而是 <u>Unix Software Resource</u> 的缩写，也就是 Unix 操作系统 软件资源目录。这里有个小知识点，那就是 <u>Linux 一般被称为类 Unix 操作系统</u>，苹果的 MacOS 也是类 Unix 操作系统。关于 Linux 和 Unix 操作系统的渊源大家可以直接在网上找 Linux 的发 展历史来看。既然是软件资源目录，因此**/usr 目录下也存放着很多软件**，一般系统安装完成以 后此目录占用的空间最多。</li>
</ul>
<h3 id="var-目录"><a href="#var-目录" class="headerlink" title="/var 目录"></a>/var 目录</h3><ul>
<li>此目录存放一些<u>可以改变的数据</u>。</li>
</ul>
<h3 id="sbin-目录"><a href="#sbin-目录" class="headerlink" title="/sbin 目录"></a>/sbin 目录</h3><ul>
<li>此目录页<u>用户存放一些可执行文件</u>，但是此目录下的文件或者说命令只有管理员才能使用， 主要用户系统管理。</li>
</ul>
<h3 id="sys-目录"><a href="#sys-目录" class="headerlink" title="/sys 目录"></a>/sys 目录</h3><ul>
<li>系统启动以后此目录作为 <strong>sysfs 文件系统的挂载点</strong>，sysfs 是一个类似于 proc 文件系统的特 殊文件系统，<u>sysfs 也是基于 ram 的文件系统，也就是说它也没有实际的存储设备</u>。此目录是系 统设备管理的重要目录，此目录通过一定的组织结构向用户提供详细的内核数据结构信息。</li>
</ul>
<h3 id="opt目录"><a href="#opt目录" class="headerlink" title="/opt目录"></a>/opt目录</h3><ul>
<li>可选的文件、软件存放区，由用户选择将哪些文件或软件放到此目录中。</li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">FrankZhang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://frankzhang0219.gitee.io/2022/02/27/Linux根文件系统/">http://frankzhang0219.gitee.io/2022/02/27/Linux根文件系统/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2022/03/02/%E5%9C%A8%E5%9B%BA%E6%80%81%E5%92%8C%E6%9C%BA%E6%A2%B0%E7%9B%98%E4%B8%8A%E5%AE%89%E8%A3%85Ubuntu/"><i class="fa fa-chevron-left">  </i><span>在固态和机械盘上安装Ubuntu</span></a></div><div class="next-post pull-right"><a href="/2022/02/27/Linux%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%88%86%E6%9E%90/"><span>Linux内核启动分析</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2021 - 2022 By FrankZhang</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>