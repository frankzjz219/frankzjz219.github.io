<!DOCTYPE html>


<html lang="Chinese">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> Frank’s blogs</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/FLogo.png" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/bkgPic.png" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Frank’s blogs</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['包含但不限于Linux编程', '算法题总结', 'C/C++/python等开发'],
        startDelay: 0,
        typeSpeed: 100,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  
<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content">包含但不限于Linux编程、C/C++开发、算法题等等。</div>
</div>


<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-manjaro停止应用程序"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/21/manjaro%E5%81%9C%E6%AD%A2%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/"
    >manjaro停止应用程序</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/21/manjaro%E5%81%9C%E6%AD%A2%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/" class="article-date">
  <time datetime="2022-01-21T01:33:34.000Z" itemprop="datePublished">2022-01-21</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="manjaro停止应用程序"><a href="#manjaro停止应用程序" class="headerlink" title="manjaro停止应用程序"></a>manjaro停止应用程序</h1><ul>
<li><p>在命令行输入<code>xkill</code></p>
</li>
<li><p>然后鼠标光标变化，点击想关闭的窗口即可</p>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-堆排序和快排"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/20/%E5%A0%86%E6%8E%92%E5%BA%8F%E5%92%8C%E5%BF%AB%E6%8E%92/"
    >堆排序和快排</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/20/%E5%A0%86%E6%8E%92%E5%BA%8F%E5%92%8C%E5%BF%AB%E6%8E%92/" class="article-date">
  <time datetime="2022-01-20T14:27:30.000Z" itemprop="datePublished">2022-01-20</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"> <span class="comment">//heapSort 构建大顶堆或者小顶堆，将堆顶元素与堆尾元素交换后再调整，如此反复</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//构建大顶堆 k为最后一个非叶子节点，逐渐-1，即从下向上，从右往左</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k = arr.length/<span class="number">2</span> - <span class="number">1</span>;k&gt;=<span class="number">0</span>;k--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">adjustHeap</span>(arr,k,arr.length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//排序 交换+调整</span></span><br><span class="line">    <span class="keyword">int</span> temp =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = arr.length<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--) </span><br><span class="line">    &#123;</span><br><span class="line">        temp =arr [<span class="number">0</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = arr[i];</span><br><span class="line">        arr[i] = temp;</span><br><span class="line">        <span class="built_in">adjustHeap</span>(arr,<span class="number">0</span>,i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param arr 待调整数组</span></span><br><span class="line"><span class="comment">     * @param i 非叶子节点在数组中的索引</span></span><br><span class="line"><span class="comment">     * @param length 对多少个元素进行调整</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">adjustHeap</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> i,<span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = arr[i];<span class="comment">//取出当前非叶子叶结点的值</span></span><br><span class="line">    <span class="comment">//k为当前节点的左子节点</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">2</span>*i+<span class="number">1</span>;k&lt;length;k=<span class="number">2</span>*k+<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(k+<span class="number">1</span>&lt;length &amp;&amp; arr[k+<span class="number">1</span>]&gt;arr[k])</span><br><span class="line">        &#123;<span class="comment">//右子节点大于左子节点</span></span><br><span class="line">            k++;<span class="comment">//k指向右子节点</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(arr[k]&gt;temp)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//如果当前节点大于父节点就交换</span></span><br><span class="line">            arr[i] = arr[k];</span><br><span class="line">            i = k;<span class="comment">//!!!!!!精髓，因为该子节点值大小发生了改变，可能会使其子根堆发生改变，索引要调整其子根堆</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//否则直接退出，因为其后面的节点一定满足堆定义</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    arr[i] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>一个对象的下标为i，他的左右子节点分别是<code>2i+1</code>和<code>2i+2</code></li>
<li>更换节点的时候</li>
</ul>
<h2 id="快排"><a href="#快排" class="headerlink" title="快排"></a>快排</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//quickSort 每次选择一个元素并且将整个数组以这个元素分为两部分，小于该元素的放右边，大于该元素的放左边</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&lt;r)&#123; <span class="comment">//跳出递归的条件</span></span><br><span class="line">        <span class="comment">//partition就是划分操作，将arr划分成满足条件的两个子表</span></span><br><span class="line">        <span class="keyword">int</span> pivotpos = <span class="built_in">partition</span>(arr,l,r);</span><br><span class="line">        <span class="comment">//依次对左右两个子表进行递归排序</span></span><br><span class="line">        <span class="built_in">quickSort</span>(arr,l,pivotpos);</span><br><span class="line">        <span class="built_in">quickSort</span>(arr,pivotpos+<span class="number">1</span>,r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//以当前数组的最后一个元素作为中枢pivot，进行划分</span></span><br><span class="line">    <span class="keyword">int</span> pivot = arr[r];</span><br><span class="line">    <span class="keyword">while</span> (l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (l&lt;r &amp;&amp; arr[l]&lt;pivot) l++;</span><br><span class="line">        arr[r] = arr[l];<span class="comment">//将比中枢值大的移动到右端r处 由于r处为中枢或者该位置值已经被替换到l处，所以直接可以替换</span></span><br><span class="line">        <span class="keyword">while</span> (l&lt;r &amp;&amp; arr[r]&gt;=pivot) r--;</span><br><span class="line">        arr[l] = arr[r];<span class="comment">//将比中枢值小的移动到左端l处 由于前面l处的值已经换到r处，所以该位置值也可以替换掉</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//l==r时，重合，这个位置就是中枢的最终位置</span></span><br><span class="line">    arr[l] = pivot;</span><br><span class="line">    <span class="comment">//返回存放中枢的最终位置</span></span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>主要的思路是每次选择一个（实际上一般是最右边的那一个）元素作为标准，将比这个元素小的元素移动到数组的左边，大的移动到右边，最后实现这个元素的左边的所有元素都比这个元素小，右边的都比这个大。然后再分别对左边和右边的数组分别排序，实现递归。</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-修复manjaro不能识别外接显示器并且开启独显"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/20/%E4%BF%AE%E5%A4%8Dmanjaro%E4%B8%8D%E8%83%BD%E8%AF%86%E5%88%AB%E5%A4%96%E6%8E%A5%E6%98%BE%E7%A4%BA%E5%99%A8%E5%B9%B6%E4%B8%94%E5%BC%80%E5%90%AF%E7%8B%AC%E6%98%BE/"
    >修复linux不能识别外接显示器并且开启独显</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/20/%E4%BF%AE%E5%A4%8Dmanjaro%E4%B8%8D%E8%83%BD%E8%AF%86%E5%88%AB%E5%A4%96%E6%8E%A5%E6%98%BE%E7%A4%BA%E5%99%A8%E5%B9%B6%E4%B8%94%E5%BC%80%E5%90%AF%E7%8B%AC%E6%98%BE/" class="article-date">
  <time datetime="2022-01-20T03:00:01.000Z" itemprop="datePublished">2022-01-20</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="修复linux不能识别外接显示器并且开启独显"><a href="#修复linux不能识别外接显示器并且开启独显" class="headerlink" title="修复linux不能识别外接显示器并且开启独显"></a>修复linux不能识别外接显示器并且开启独显</h1><ul>
<li><p>按照<a target="_blank" rel="noopener" href="https://github.com/Askannz/optimus-manager%E7%9A%84%E7%94%A8%E6%88%B7%E8%AF%B4%E6%98%8E%EF%BC%88manjaro%EF%BC%89">https://github.com/Askannz/optimus-manager的用户说明（manjaro）</a></p>
<ul>
<li><p><img src="/../imgs/image-20220120104302285.png" alt="image-20220120104302285"></p>
</li>
<li><p>将系统的<code>/etc/sddm.conf</code>文件进行修改注释掉两处之后，重启计算机，并且打开<code>optimus-manager-qt</code>，切换到英伟达显卡，再次重启，并且设置开机自启动模式</p>
</li>
</ul>
</li>
</ul>
<p><img src="/../imgs/image-20220120104437272.png" alt="image-20220120104437272"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-manjaro添加快捷键"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/20/manjaro%E6%B7%BB%E5%8A%A0%E5%BF%AB%E6%8D%B7%E9%94%AE/"
    >manjaro添加快捷键</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/20/manjaro%E6%B7%BB%E5%8A%A0%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="article-date">
  <time datetime="2022-01-20T03:00:00.000Z" itemprop="datePublished">2022-01-20</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="manjaro添加快捷键"><a href="#manjaro添加快捷键" class="headerlink" title="manjaro添加快捷键"></a>manjaro添加快捷键</h1><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/xingshen100/article/details/85014978">https://blog.csdn.net/xingshen100/article/details/85014978</a></li>
</ul>
<ul>
<li><p>系统设置</p>
</li>
<li><p><img src="/../imgs/image-20220120105459575.png" alt="image-20220120105459575"></p>
</li>
<li><p><img src="/../imgs/image-20220120105605636.png" alt="image-20220120105605636"></p>
</li>
</ul>
<p>点击edit-new-global shortcut-command/URL新建，设置trigger和action即可</p>
<p><img src="/../imgs/image-20220120105715782.png" alt="image-20220120105715782"></p>
<p><img src="/../imgs/image-20220120105729191.png" alt="image-20220120105729191"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-LRU缓存机制思路"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/19/LRU%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6%E6%80%9D%E8%B7%AF/"
    >LRU缓存机制思路</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/19/LRU%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6%E6%80%9D%E8%B7%AF/" class="article-date">
  <time datetime="2022-01-19T14:06:38.000Z" itemprop="datePublished">2022-01-19</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="LRU缓存"><a href="#LRU缓存" class="headerlink" title="LRU缓存"></a>LRU缓存</h1><h2 id="程序"><a href="#程序" class="headerlink" title="程序"></a>程序</h2><p>请你设计并实现一个满足  LRU (最近最少使用) 缓存的数据结构。</p>
<ul>
<li>LRUCache(int capacity) 以 正整数 作为容量 capacity 初始化 LRU 缓存</li>
<li>int get(int key) 如果关键字 key 存在于缓存中，则返回关键字的值，否则返回 -1 。</li>
<li>void put(int key, int value) 如果关键字 key 已经存在，则变更其数据值 value ；如果不存在，则向缓存中插入该组 key-value 。如果插入操作导致关键字数量超过 capacity ，则应该 逐出 最久未使用的关键字。</li>
<li>函数 get 和 put 必须以 O(1) 的平均时间复杂度运行。</li>
</ul>
<h2 id="程序思路"><a href="#程序思路" class="headerlink" title="程序思路"></a>程序思路</h2><ul>
<li>使用<strong>双向链表</strong>存储数据，<em>头节点</em>和<em>尾节点</em>另外存储</li>
<li>使用一个<code>unordered_map</code>存储每一个键值对的指针</li>
<li>每一次使用对应的指针，都将其移动到双向链表的头部</li>
<li>容量超出的时候删除链表的末端节点</li>
<li><img src="/imgs/image-12345678.png" alt="image-12345678"></li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Qt网络请求下载图片并且显示"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/18/Qt%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87%E5%B9%B6%E4%B8%94%E6%98%BE%E7%A4%BA/"
    >Qt网络请求下载图片并且显示</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/18/Qt%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87%E5%B9%B6%E4%B8%94%E6%98%BE%E7%A4%BA/" class="article-date">
  <time datetime="2022-01-17T16:45:02.000Z" itemprop="datePublished">2022-01-18</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Qt网络请求下载图片并且显示"><a href="#Qt网络请求下载图片并且显示" class="headerlink" title="Qt网络请求下载图片并且显示"></a>Qt网络请求下载图片并且显示</h1><h2 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h2><ul>
<li>字符串通过<code>QUrl()</code>变成Url对象，然后<code>QNetworkRequest</code>通过<code>setUrl()</code>方法设置URL，然后<code>QNetworkManager</code>通过get方法访问并且返回回复</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">QNetworkReply *newReply = netWorkManager-&gt;<span class="built_in">get</span>(networkRequest);</span><br></pre></td></tr></table></figure>

<ul>
<li>回复对象具有<code>downloadProgress(qint64, qint64)</code>，<code>readyRead()</code>，<code>finished()</code>，三个信号，其中<code>downloadProgress(qint64, qint64)</code>用来更新进度条，<code>readyRead()</code>表示此时已经有数据可以读取（可能<strong>还没结束</strong>），<code>finished()</code>表示此时接收<strong>已经结束</strong>可以读到完整的文件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">QByteArray data = reply-&gt;readAll();</span><br></pre></td></tr></table></figure>

<ul>
<li>上面是读取到回复的全文内容</li>
</ul>
<h2 id="更新进度条"><a href="#更新进度条" class="headerlink" title="更新进度条"></a>更新进度条</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::imageDownloadProgress</span><span class="params">(qint64 bytes, qint64 totalBytes)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> qint8 count = <span class="number">0</span>;</span><br><span class="line">    count++;</span><br><span class="line">    <span class="keyword">if</span>(count == <span class="number">1</span>)</span><br><span class="line">        progressBar-&gt;<span class="built_in">setMaximum</span>(totalBytes);</span><br><span class="line"></span><br><span class="line">    progressBar-&gt;<span class="built_in">setValue</span>(bytes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="下载结束显示图片"><a href="#下载结束显示图片" class="headerlink" title="下载结束显示图片"></a>下载结束显示图片</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::replyFinished</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//QNetworkReply *reply = (QNetworkReply *)sender();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//reply-&gt;deleteLater();</span></span><br><span class="line"></span><br><span class="line">    QNetworkReply *reply = (QNetworkReply *)<span class="built_in">sender</span>();</span><br><span class="line"></span><br><span class="line">    QByteArray data = reply-&gt;<span class="built_in">readAll</span>();</span><br><span class="line">    reply-&gt;<span class="built_in">deleteLater</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(data.<span class="built_in">isEmpty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;data is null, please try it again!&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QPixmap pixmap;</span><br><span class="line">    pixmap.<span class="built_in">loadFromData</span>(data);</span><br><span class="line"></span><br><span class="line">    label[<span class="number">0</span>]-&gt;<span class="built_in">setPixmap</span>(pixmap);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="开始下载"><a href="#开始下载" class="headerlink" title="开始下载"></a>开始下载</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MainWindow::startDownload</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QUrl <span class="title">newUrl</span><span class="params">(QUrl(lineEdit-&gt;text()))</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(!newUrl.<span class="built_in">isValid</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        QMessageBox::<span class="built_in">information</span>(<span class="keyword">this</span>, <span class="string">&quot;error&quot;</span>, <span class="string">&quot;invalid url&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QNetworkRequest networkRequest;</span><br><span class="line"></span><br><span class="line">    networkRequest.<span class="built_in">setUrl</span>(newUrl);</span><br><span class="line"></span><br><span class="line">    QNetworkReply *newReply = netWorkManager-&gt;<span class="built_in">get</span>(networkRequest);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(newReply, <span class="built_in">SIGNAL</span>(<span class="built_in">finished</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">replyFinished</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(newReply, <span class="built_in">SIGNAL</span>(<span class="built_in">readyRead</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">readyReadData</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(newReply, <span class="built_in">SIGNAL</span>(<span class="built_in">downloadProgress</span>(qint64, qint64)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">imageDownloadProgress</span>(qint64, qint64)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Qt网络编程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/17/Qt%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"
    >Qt网络编程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/17/Qt%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="article-date">
  <time datetime="2022-01-17T10:49:55.000Z" itemprop="datePublished">2022-01-17</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Qt网络编程"><a href="#Qt网络编程" class="headerlink" title="Qt网络编程"></a>Qt网络编程</h1><h2 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h2><h3 id="获取IP"><a href="#获取IP" class="headerlink" title="获取IP"></a>获取IP</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">getLocalHostIP</span>()</span><br><span class="line">&#123;</span><br><span class="line">    QList&lt;QNetworkInterface&gt; list = QNetworkInterface::<span class="built_in">allInterfaces</span>();</span><br><span class="line">    foreach (QNetworkInterface interface, list)</span><br><span class="line">    &#123;</span><br><span class="line">        QList&lt;QNetworkAddressEntry&gt; entryList = interface.<span class="built_in">addressEntries</span>();</span><br><span class="line">        foreach(QNetworkAddressEntry entry ,entryList)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(entry.<span class="built_in">ip</span>().<span class="built_in">protocol</span>() == QAbstractSocket::IPv4Protocol)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(entry.<span class="built_in">ip</span>().<span class="built_in">toString</span>() == <span class="string">&quot;127.0.0.1&quot;</span>)<span class="keyword">continue</span>;</span><br><span class="line">                comboBox-&gt;<span class="built_in">addItem</span>(entry.<span class="built_in">ip</span>().<span class="built_in">toString</span>());</span><br><span class="line">                IPlist&lt;&lt;entry.<span class="built_in">ip</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>allInterfaces()</code>获取本地的所有网络接口，比如wlan，本地连接等等，然后使用<code>addressEntries()</code>获取所有IP地址，使用<code>IPv4Protocol</code>筛选所有的IPv4地址，进行连接，同时在</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(entry.<span class="built_in">ip</span>().<span class="built_in">toString</span>() == <span class="string">&quot;127.0.0.1&quot;</span>)<span class="keyword">continue</span>;</span><br></pre></td></tr></table></figure>

<p>中筛选去掉本地IP，只留下有意义的（可以从外部连接的）IP地址。</p>
<h3 id="监听"><a href="#监听" class="headerlink" title="监听"></a>监听</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">startListen</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(comboBox-&gt;<span class="built_in">currentIndex</span>() != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;start Listen&quot;</span>&lt;&lt;endl;</span><br><span class="line">        tcpServer-&gt;<span class="built_in">listen</span>(IPlist[comboBox-&gt;<span class="built_in">currentIndex</span>()], spinBox-&gt;<span class="built_in">value</span>());</span><br><span class="line">        btn1-&gt;<span class="built_in">setEnabled</span>(<span class="literal">false</span>);</span><br><span class="line">        btn2-&gt;<span class="built_in">setEnabled</span>(<span class="literal">true</span>);</span><br><span class="line">        comboBox-&gt;<span class="built_in">setEnabled</span>(<span class="literal">false</span>);</span><br><span class="line">        spinBox-&gt;<span class="built_in">setEnabled</span>(<span class="literal">false</span>);</span><br><span class="line">        clientBrowser-&gt;<span class="built_in">append</span>(<span class="string">&quot;server IP address:&quot;</span>+comboBox-&gt;<span class="built_in">currentText</span>());</span><br><span class="line">        clientBrowser-&gt;<span class="built_in">append</span>(<span class="string">&quot;Listening port: &quot;</span>+spinBox-&gt;<span class="built_in">text</span>());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>监听就是使用<code>tcpServer</code>对象，监听IP和端口，通过函数传入，等待程序链接</p>
<h3 id="停止监听"><a href="#停止监听" class="headerlink" title="停止监听"></a>停止监听</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">stopListen</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;<span class="string">&quot;stop listen&quot;</span>&lt;&lt;endl;</span><br><span class="line">    tcpServer-&gt;<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">if</span>(tcpSocket-&gt;<span class="built_in">state</span>() == tcpSocket-&gt;ConnectedState)</span><br><span class="line">    &#123;</span><br><span class="line">        tcpSocket-&gt;<span class="built_in">disconnectFromHost</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    btn1-&gt;<span class="built_in">setEnabled</span>(<span class="literal">true</span>);</span><br><span class="line">    btn2-&gt;<span class="built_in">setEnabled</span>(<span class="literal">false</span>);</span><br><span class="line">    clientBrowser-&gt;<span class="built_in">append</span>(<span class="string">&quot;Stopped Listening: &quot;</span>+spinBox-&gt;<span class="built_in">text</span>());</span><br><span class="line">    comboBox-&gt;<span class="built_in">setEnabled</span>(<span class="literal">true</span>);</span><br><span class="line">    spinBox-&gt;<span class="built_in">setEnabled</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意，调用<code>tcpServer-&gt;close()</code>之后，已经连接的客户端还可以继续与主机进行通信，此时需要<code>tcpSocket-&gt;disconnectFromHost();</code>来断开当前连接的客户端与服务器的链接，**注意此时调用的tcpSocket对象是用户连接时候从下面的<code>tcpServer-&gt;nextPendingConnection()</code>获得的Socket对象 **。</p>
<h3 id="应对用户链接"><a href="#应对用户链接" class="headerlink" title="应对用户链接"></a>应对用户链接</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">clientConnection</span>()</span><br><span class="line">&#123;</span><br><span class="line">    tcpSocket = tcpServer-&gt;<span class="built_in">nextPendingConnection</span>();</span><br><span class="line">    QString ip = tcpSocket-&gt;<span class="built_in">peerAddress</span>().<span class="built_in">toString</span>();</span><br><span class="line">    quint16 port = tcpSocket-&gt;<span class="built_in">peerPort</span>();</span><br><span class="line">    clientBrowser-&gt;<span class="built_in">append</span>(<span class="string">&quot;Client IP: &quot;</span>+ip);</span><br><span class="line">    clientBrowser-&gt;<span class="built_in">append</span>(<span class="string">&quot;Client port&quot;</span>+QString::<span class="built_in">number</span>(port));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(tcpSocket, <span class="built_in">SIGNAL</span>(<span class="built_in">readyRead</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">recMessage</span>()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意用户链接的时候，可以通过<code>tcpServer-&gt;nextPendingConnection();</code>获取用户链接的Socket对象，进而获取<code>tcpSocket-&gt;peerAddress().toString();</code>IP和<code>tcpSocket-&gt;peerPort();</code>端口号</p>
<h3 id="收取消息"><a href="#收取消息" class="headerlink" title="收取消息"></a>收取消息</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">recMessage</span>()</span><br><span class="line">&#123;</span><br><span class="line">    QString messages = tcpSocket-&gt;<span class="built_in">readAll</span>();</span><br><span class="line">    clientBrowser-&gt;<span class="built_in">append</span>(messages);</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;messages&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="发送消息"><a href="#发送消息" class="headerlink" title="发送消息"></a>发送消息</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sendMessage</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(tcpSocket-&gt;<span class="built_in">state</span>() == tcpSocket-&gt;ConnectedState)</span><br><span class="line">    &#123;</span><br><span class="line">        tcpSocket-&gt;<span class="built_in">write</span>(send-&gt;<span class="built_in">text</span>().<span class="built_in">toUtf8</span>().<span class="built_in">data</span>());</span><br><span class="line">        clientBrowser-&gt;<span class="built_in">append</span>(<span class="string">&quot;Server:&quot;</span>+send-&gt;<span class="built_in">text</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><p>此处仅仅强调客户端与服务器的区别</p>
<h3 id="链接服务器"><a href="#链接服务器" class="headerlink" title="链接服务器"></a>链接服务器</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">toConnect</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(tcpSocket-&gt;<span class="built_in">state</span>()!=tcpSocket-&gt;ConnectedState)</span><br><span class="line">    &#123;</span><br><span class="line">        QHostAddress hostAdd;</span><br><span class="line">        hostAdd.<span class="built_in">setAddress</span>(ipInput-&gt;<span class="built_in">text</span>());</span><br><span class="line">        textBrowser-&gt;<span class="built_in">append</span>(<span class="string">&quot;Connecting: &quot;</span> + hostAdd.<span class="built_in">toString</span>() + <span class="string">&quot;  ...&quot;</span>);</span><br><span class="line">        tcpSocket-&gt;<span class="built_in">connectToHost</span>(hostAdd, spinBox-&gt;<span class="built_in">value</span>());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意<code>QHostAddress</code>具有从字符串0-255点分格式的IP地址中parse出IP地址的功能（<code>hostAdd.setAddress(ipInput-&gt;text());</code>)</li>
</ul>
<h3 id="断开连接"><a href="#断开连接" class="headerlink" title="断开连接"></a>断开连接</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">toDisconnect</span>()</span><br><span class="line">&#123;</span><br><span class="line">    tcpSocket-&gt;<span class="built_in">disconnectFromHost</span>();</span><br><span class="line">    tcpSocket-&gt;<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其他与编写服务端类似，在此不再赘述。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-同一WiFi下两个Linux设备使用scp传输文件"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/17/%E5%90%8C%E4%B8%80WiFi%E4%B8%8B%E4%B8%A4%E4%B8%AALinux%E8%AE%BE%E5%A4%87%E4%BD%BF%E7%94%A8scp%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/"
    >同一WiFi下两个Linux设备使用scp传输文件</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/17/%E5%90%8C%E4%B8%80WiFi%E4%B8%8B%E4%B8%A4%E4%B8%AALinux%E8%AE%BE%E5%A4%87%E4%BD%BF%E7%94%A8scp%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/" class="article-date">
  <time datetime="2022-01-17T01:37:12.000Z" itemprop="datePublished">2022-01-17</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="同一WiFi下两个Linux设备使用scp传输文件"><a href="#同一WiFi下两个Linux设备使用scp传输文件" class="headerlink" title="同一WiFi下两个Linux设备使用scp传输文件"></a>同一WiFi下两个Linux设备使用scp传输文件</h1><p>首先要保证两个设备可以互相ping通</p>
<p><img src="/imgs/image-20220117122232319.png" alt="image-20220117122232319"></p>
<p>然后在主机上使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scp &lt;文件路径&gt; &lt;对方用户名&gt;@ip:&lt;要复制到的路径&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/imgs/image-20220117122635576.png" alt="image-20220117122635576"></p>
<p>效果如上图</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-使用echo向文件写入数据"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/15/%E4%BD%BF%E7%94%A8echo%E5%90%91%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%E6%95%B0%E6%8D%AE/"
    >使用echo向文件写入数据</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/15/%E4%BD%BF%E7%94%A8echo%E5%90%91%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5%E6%95%B0%E6%8D%AE/" class="article-date">
  <time datetime="2022-01-15T08:17:14.000Z" itemprop="datePublished">2022-01-15</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="使用echo向文件写入数据"><a href="#使用echo向文件写入数据" class="headerlink" title="使用echo向文件写入数据"></a>使用echo向文件写入数据</h1><ul>
<li>主要是使用echo的<strong>输出重定向</strong>功能，也就是<code>&gt;</code>和<code>&gt;&gt;</code></li>
<li>覆盖文件内容用<code>&gt;</code>，也就是<ul>
<li><code>echo &quot;Raspberry&quot; &gt; test.txt</code></li>
</ul>
</li>
<li>追加文件内容用<code>&gt;&gt;</code><ul>
<li><code>echo &quot;string&quot; &gt;&gt; &lt;filename&gt;</code></li>
<li>就是将string追加到filename文件的末尾</li>
</ul>
</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Linux下挂载U盘操作"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/01/15/Linux%E4%B8%8B%E6%8C%82%E8%BD%BDU%E7%9B%98%E6%93%8D%E4%BD%9C/"
    >Linux下挂载U盘操作</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/01/15/Linux%E4%B8%8B%E6%8C%82%E8%BD%BDU%E7%9B%98%E6%93%8D%E4%BD%9C/" class="article-date">
  <time datetime="2022-01-15T04:49:24.000Z" itemprop="datePublished">2022-01-15</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Linux下挂载U盘操作"><a href="#Linux下挂载U盘操作" class="headerlink" title="Linux下挂载U盘操作"></a>Linux下挂载U盘操作</h1><p>首先在控制台输入<code>sudo fdisk -l</code></p>
<p>然后找到自己的U盘比如下图</p>
<p><img src="/imgs/image-20220115125056297.png" alt="image-20220115125056297"></p>
<p>看到其名称为<code>/dev/sda1</code>，然后在<code>/dev</code>下新建一个文件夹比如叫USB</p>
<p><code>mkdir /dev/USB</code></p>
<p>然后将USB设备挂载在这个目录下</p>
<p><code>sudo mount /dev/sda1 /dev/USB</code></p>
<p>解除挂载类似，区别仅仅是mount换成unmount</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/8/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2021-2022
        <i class="ri-heart-fill heart_icon"></i> FrankZhang
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/avatar.png" alt="Frank’s blogs"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>